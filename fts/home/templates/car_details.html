{% extends 'base.html' %}

{% block content %}
    <h1>Car Details</h1>
    <table class="table">
        <tr>
            <th>Brand</th>
            <td>{{ car.brand }}</td>
        </tr>
        <tr>
            <th>Model</th>
            <td>{{ car.model }}</td>
        </tr>
        <tr>
            <th>Colour</th>
            <td>{{ car.colour }}</td>
        </tr>
        <tr>
            <th>Paint code</th>
            <td>{{ car.colour.paint_code }}</td>
        </tr>
        <tr>
            <th>Condition</th>
            <td>{{ car.condition }}</td>
        </tr>
    </table>
    {% if user.is_authenticated %}
    <a class="btn btn-warning" href="{% url 'editcar' id=car.id %}">Edit</a>
    <a class="btn btn-danger" onclick="return confirm('Do you want to delete this car?')" href="{% url 'delcar' id=car.id %}">
        Delete
    </a>
    {% endif %}
    <div class="clear">&nbsp;</div>
    <h2>Owners</h2>
    <table class="table">
        <tr>
            <th>Name</th>
            <th>Owned From</th>
            <th>Owned To</th>
            <th></th>
        </tr>
        {% for owner in own_rec %}
        <tr>
            <td>{{ owner.owner }}</td>
            <td>{{ owner.owned_from }}</td>
            <td>{{ owner.owned_to }}</td>
            <td>
                {% if user.is_authenticated %}
                <a class="btn btn-danger" onclick="return confirm('Do you want to delete this record?')" href="{% url 'delown' id=owner.id %}">
                    Delete
                </a>
                {% endif %}
        </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="3">No owners found for this car.</td>
        </tr>
        {% endfor %}
    </table>
    {% if user.is_authenticated %}
    <a class="btn btn-warning" href="{% url 'addowner' id=car.id %}">Add new owner</a>
    {% endif %}
{% endblock content %}

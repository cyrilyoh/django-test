{% extends "base.html" %}

{% block content %}
    <h1>Users</h1>
    <table class="table">
        <tr>
            <th>Username</th>
            <th>First name</th>
            <th>Last name</th>
            <th>Email</th>
            <th>Date joined</th>
            <th>Status</th>
        </tr>
        {% for user in users %}
        <tr>
            <td>{{ user.username }}</td>
            <td>{{ user.first_name }}</td>
            <td>{{ user.last_name }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.date_joined }}</td>
            <td>
                {% if user.is_active %}
                <span class="badge badge-success">Active</span>
                {% else %}
                <a class="badge badge-warning" href="{% url 'approve_user' id=user.id %}">Approve</a>
                <a class="badge badge-danger" href="{% url 'delete_user' id=user.id %}" onclick="return confirm('Do you want to delete the user?')">Deny</a>
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </table>
{% endblock content %}

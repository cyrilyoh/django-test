{% extends 'base.html' %}

{% block content %}
<div class="container">
    {% if messages %}
    {% for message in messages %}
        <div {% if message.tags %} class="alert alert-{{ message.tags }}"{% endif %}>
            {{ message }}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    {% endfor %}
    {% endif %}
    <h1>Cars</h1>
    <table class="table">
        <tr>
            <th>ID</th>
            <th>Model</th>
            <th>Colour</th>
            <th>Brand</th>
            <th>Condition</th>
            <th>No. of previous owners</th>
            <th></th>
        </tr>
        {% for d in data %}
        <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ d.model }}</td>
            <td>{{ d.colour }}</td>
            <td>{{ d.brand }}</td>
            <td>{{ d.condition }}</td>
            <td>{{ d.no_previous_owners }}</td>
            <td><a class="nav-link" href="{% url 'cardetails' id=d.id %}">Details</a></td>
        </tr>
        {% endfor %}
    </table>
    <a class="btn btn-primary" href="{% url 'addcar' %}">Add Car</a>
</div>    
{% endblock content %}
